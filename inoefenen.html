<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Woordjes Oefenen</title>
  <link rel="icon" type="image/png" href="img/favicon_F56565_192.png">
  <link rel="apple-touch-icon" href="img/favicon_F56565_192.png">
  <style>
    body{font-family:Arial,Helvetica,sans-serif;max-width:900px;margin:24px auto;padding:0 12px}
    input,select,button{font-size:1rem;padding:8px;margin:6px 0}
    #quiz{display:none;margin-top:16px}
    .big{font-size:1.25rem}
    #resultaat{margin-top:8px}
    .correct{color:green}
    .wrong{color:red}
    .hint{font-style:italic;color:#333}
    .inline{display:inline-block;margin-right:8px}
  </style>
</head>
<body>
<h1>Woordjes Oefenen</h1>

<label class="inline">Bestandsnaam (4 tekens):</label>
<input id="fileInput" maxlength="4" placeholder="bv. iaab" />
<br>

<label class="inline">Hoeveel woorden oefenen?</label>
<select id="limietSelect">
  <option value="0">Alles</option>
  <option value="10">10</option>
  <option value="15">15</option>
  <option value="20">20</option>
  <option value="25">25</option>
</select>
<br>

<label class="inline">Uitspraak:</label>
<select id="ttsLang">
  <option value="fr-FR">Frans</option>
  <option value="en-US">Engels</option>
</select>
<br>

<button type="button" onclick="loadFile()">Start Oefenen</button>

<div id="quiz">
  <p class="big" id="vraagNL"></p>
  <input id="antwoord" placeholder="Typ hier de vertaling en druk Enter" autocomplete="off" />
  <button id="controleerBtn" type="button">Controleer</button>
  <p id="resultaat"></p>
  <p id="score" class="hint"></p>
</div>

  <h2>Overzicht Tekstbestanden</h2>
  <table id="overzicht">
    <tr><th>Bestand</th><th>Aantal</th><th>Beschrijving</th></tr>
    <tr><td>iabq</td><td id="iabq-count">?</td><td style="color: blue;">Chemische elementen KERST 2025-2026</td></tr>
    <tr><td>iabr</td><td id="iabr-count">?</td><td style="color: blue;">Chemische elementen volledig</td></tr>
    <tr><td>iabs</td><td id="iabs-count">?</td><td style="color: blue;">Griekse telwoorden</td></tr>
    <tr><td>fsim</td><td id="fsim-count">?</td><td style="color: green;">Futur simple</td></tr>
    <tr><td>fpro</td><td id="fpro-count">?</td><td style="color: green;">Futur proche</td></tr>
    <tr><td>iaaa</td><td id="iaaa-count">?</td><td>PASEN 2025 - FRANS  - Woordenschat H1</td></tr>
    <tr><td>iaab</td><td id="iaab-count">?</td><td>PASEN 2025 - FRANS  - L'INFINITIF</td></tr>
    <tr><td>iaac</td><td id="iaac-count">?</td><td>PASEN 2025 - FRANS  - INDICATIF PRÉSENT</td></tr>
    <tr><td>iaad</td><td id="iaad-count">?</td><td>PASEN 2025 - FRANS  - FUTUR PROCHE</td></tr>
    <tr><td>iaae</td><td id="iaae-count">?</td><td>PASEN 2025 - FRANS  - PASSÉ RÉCENT</td></tr>
    <tr><td>iaaf</td><td id="iaaf-count">?</td><td>PASEN 2025 - FRANS  - PASSÉ COMPOSÉ</td></tr>
    <tr><td>iaag</td><td id="iaag-count">?</td><td>PASEN 2025 - FRANS  - IMPARFAIT (ONREGELMATIG)</td></tr>
    <tr><td>iaah</td><td id="iaah-count">?</td><td>PASEN 2025 - FRANS  - PARTICIPE PASSÉ</td></tr>
    <tr><td>iaai</td><td id="iaai-count">?</td><td>PASEN 2025 - FRANS  - Woordenschat H2</td></tr>
    <tr><td>iaaj</td><td id="iaaj-count">?</td><td>PASEN 2025 - FRANS  - IMPARFAIT (REGELMATIG)</td></tr>
    <tr><td>iaak</td><td id="iaak-count">?</td><td>PASEN 2025 - ENGELS - Woordenschat UNIT 3 - DEEL 1</td></tr>
    <tr><td>iaal</td><td id="iaal-count">?</td><td>PASEN 2025 - ENGELS - Woordenschat UNIT 4 - DEEL 1</td></tr>
    <tr><td>iaam</td><td id="iaam-count">?</td><td>PASEN 2025 - ENGELS - Woordenschat UNIT 4 - DEEL 2</td></tr>
    <tr><td>iaan</td><td id="iaan-count">?</td><td>PASEN 2025 - ENGELS - Woordenschat UNIT 3 - DEEL 2</td></tr>
    <tr><td>iaao</td><td id="iaao-count">?</td><td>PASEN 2025 - ENGELS - vervoeging I</td></tr>
    <tr><td>iaap</td><td id="iaap-count">?</td><td>PASEN 2025 - ENGELS - vervoeging II</td></tr>
    <tr><td>iaaq</td><td id="iaaq-count">?</td><td>PASEN 2025 - ENGELS - vervoeging III</td></tr>
    <tr><td>iaar</td><td id="iaar-count">?</td><td>JUNI 2025 - ENGELS - Woordenschat UNIT 6: I</td></tr>
    <tr><td>iaas</td><td id="iaas-count">?</td><td>JUNI 2025 - ENGELS - Woordenschat UNIT 7: Signs of the Zodiac</td></tr>
    <tr><td>iaat</td><td id="iaat-count">?</td><td>JUNI 2025 - ENGELS - Woordenschat UNIT 7: Human Characteristics</td></tr>
    <tr><td>iaau</td><td id="iaau-count">?</td><td>JUNI 2025 - FRANS  - Woordenschat H14 I</td></tr>
    <tr><td>iaav</td><td id="iaav-count">?</td><td>JUNI 2025 - FRANS  - Woordenschat H14 II: LA MOBILITÉ</td></tr>
    <tr><td>iaaw</td><td id="iaaw-count">?</td><td>JUNI 2025 - FRANS  - Woordenschat H14 III: SE DÉPLACER</td></tr>
    <tr><td>iaax</td><td id="iaax-count">?</td><td>JUNI 2025 - FRANS  - Woordenschat H1????? I</td></tr>
    <tr><td>iaay</td><td id="iaay-count">?</td><td>JUNI 2025 - FRANS  - Woordenschat H1????? II</td></tr>
    <tr><td>iaaz</td><td id="iaaz-count">?</td><td>JUNI 2025 - FRANS  - Woordenschat H1????? III</td></tr>
    <tr><td>iaba</td><td id="iaba-count">?</td><td>JUNI 2025 - FRANS  - Woordenschat H1????? IV</td></tr>
    <tr><td>iabb</td><td id="iabb-count">?</td><td>JUNI 2025 - FRANS  - Woordenschat H1????? IV: BEROEPEN</td></tr>
    <tr><td>iabc</td><td id="iabc-count">?</td><td>JUNI 2025 - ENGELS - Woordenschat UNIT 6: II</td></tr>
    <tr><td>iabd</td><td id="iabd-count">?</td><td>JUNI 2025 - ENGELS - Woordenschat UNIT 6: III</td></tr>
    <tr><td>iabe</td><td id="iabe-count">?</td><td>KERRSTMIS DERDE - FRANS - Woordenschat p244+245</td></tr>
    <tr><td>iabf</td><td id="iabf-count">?</td><td>KERRSTMIS DERDE - ENGELS - Woordenschat p46 > feelings</td></tr>
    <tr><td>iabg</td><td id="iabg-count">?</td><td>KERRSTMIS DERDE - ENGELS - p47 > features American educational system</td></tr>
    <tr><td>iabh</td><td id="iabh-count">?</td><td>KERRSTMIS DERDE - ENGELS - p47 > school life: places</td></tr>
    <tr><td>iabi</td><td id="iabi-count">?</td><td>KERRSTMIS DERDE - ENGELS - p47+p48 > school life: people + objects</td></tr>
    <tr><td>iabj</td><td id="iabj-count">?</td><td>KERRSTMIS DERDE - ENGELS - p48 > school life: subjects</td></tr>
    <tr><td>iabk</td><td id="iabk-count">?</td><td>KERRSTMIS DERDE - ENGELS - p49 > school life: good to know</td></tr>
    <tr><td>iabl</td><td id="iabl-count">?</td><td>KERRSTMIS DERDE - FRANS - INDICATIF PRÉSENT - REGELMATIG</td></tr>
    <tr><td>iabm</td><td id="iabm-count">?</td><td>KERRSTMIS DERDE - FRANS - INDICATIF PRÉSENT - ONREGELMATIG</td></tr>
    <tr><td>iabn</td><td id="iabn-count">?</td><td>KERRSTMIS DERDE - FRANS - LES MOTS INTERROGATIFS</td></tr>
    <tr><td>iabo</td><td id="iabo-count">?</td><td>KERRSTMIS DERDE - FRANS - HALLOWEEN</td></tr>
    <tr><td>iabp</td><td id="iabp-count">?</td><td>KERRSTMIS DERDE - ENGELS - p46 > personality</td></tr>
    <tr><td>iabt</td><td id="iabt-count">?</td><td>KERRSTMIS DERDE - ENGELS - p89-p92 > how to describe people</td></tr>
    <tr><td>iabu</td><td id="iabu-count">?</td><td>KERRSTMIS DERDE - ENGELS - p89-p92 > how to describe people</td></tr>
    <tr><td>iabv</td><td id="iabv-count">?</td><td>KERRSTMIS DERDE - ENGELS - p89-p92 > how to describe people</td></tr>
    <tr><td>iabw</td><td id="iabw-count">?</td><td>KERRSTMIS DERDE - ENGELS - p89-p92 > how to describe people</td></tr>
    <tr><td>iabx</td><td id="iabx-count">?</td><td>KERRSTMIS DERDE - ENGELS - p89-p92 > how to describe people</td></tr>
    <tr><td>iaby</td><td id="iaby-count">?</td><td>KERRSTMIS DERDE - ENGELS - H3 > narrow small</td></tr>
    <tr><td>iabz</td><td id="iabz-count">?</td><td>KERRSTMIS DERDE - FRANS > adjectifs fréquents</td></tr>
                                                                                                      

    <tr><td><b>XXXX</b></td><td id="iabx-count">?</td><td><b>XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</b></td></tr>
    
    <tr><td>zaaa</td><td id="zaaa-count">?</td><td>6C 24/25 - FRANS - Woordenschat boek 6A - P5 deel I</td></tr>
    <tr><td>zaab</td><td id="zaab-count">?</td><td>6C 24/25 - FRANS - INDICATIF PRÉSENT: dormir + sortir</td></tr>
    <tr><td>zaac</td><td id="zaac-count">?</td><td>EXTRA (1) - FRANS - De kleuren</td></tr>
    <tr><td>zaad</td><td id="zaad-count">?</td><td>EXTRA (2) - FRANS - INDICATIF PRÉSENT: être en avoir</td></tr>
    <tr><td>zaae</td><td id="zaae-count">?</td><td>EXTRA - FRANS - L'INFINITIF</td></tr>
    <tr><td>zaaf</td><td id="zaaf-count">?</td><td>6C 24/25 - FRANS - Woordenschat boek 6A - P5 deel II</td></tr>
    <tr><td>zaag</td><td id="zaag-count">?</td><td>6C 24/25 - FRANS - ALLER + transportmiddelen</td></tr>
    <tr><td>zaah</td><td id="zaah-count">?</td><td>6C 24/25 - FRANS - Woordenschat boek 6A - P6 deel I</td></tr>
    <tr><td>zaai</td><td id="zaai-count">?</td><td>6C 24/25 - FRANS - Woordenschat boek 6A - P6 deel II</td></tr>
    <tr><td>zaaj</td><td id="zaaj-count">?</td><td>6C 24/25 - FRANS - Beklemmende voornaamwoorden</td></tr>
    <tr><td>zaak</td><td id="zaak-count">?</td><td>6C 24/25 - FRANS - Getallen 0 tot 20</td></tr>
    <tr><td>zaal</td><td id="zaal-count">?</td><td>6C 24/25 - FRANS - Getallen 21 tot 69</td></tr>
    <tr><td>zaam</td><td id="zaam-count">?</td><td>6C 24/25 - FRANS - Getallen 70 tot 100</td></tr>
    <tr><td>zaan</td><td id="zaan-count">?</td><td>6C 24/25 - FRANS - Pouvoir + vouloir</td></tr>
    <tr><td>zaao</td><td id="zaao-count">?</td><td>6C 24/25 - FRANS - Getallen 100 tot 1 000 000</td></tr>
    <tr><td>zaap</td><td id="zaap-count">?</td><td>1A11 25/26 - FRANS - Woordenschat p29 (20 woorden)</td></tr>
    <tr><td>zaaq</td><td id="zaaq-count">?</td><td>1A11 25/26 - FRANS - Woordenschat p30 (19 woorden)</td></tr>
    <tr><td>zaar</td><td id="zaar-count">?</td><td>1A11 25/26 - FRANS - Woordenschat p32+33 (21 woorden)</td></tr>
    <tr><td>zaas</td><td id="zaas-count">?</td><td>1A11 25/26 - FRANS - Woordenschat p34 (16 woorden)</td></tr>
    <tr><td>zaat</td><td id="zaat-count">?</td><td>1A11 25/26 - FRANS - Woordenschat p34 (13 woorden) > ADJECTIFS</td></tr>
    <tr><td>zaau</td><td id="zaau-count">?</td><td>1A11 25/26 - FRANS - Avoir+être p53 (34 zinnen) > ADJECTIFS</td></tr>
    <tr><td>zaav</td><td id="zaav-count">?</td><td>1A11 25/26 - FRANS - p91+92</td></tr>
    <tr><td>zaaw</td><td id="zaaw-count">?</td><td>1A11 25/26 - FRANS - p91+92</td></tr>
    <tr><td>zaax</td><td id="zaax-count">?</td><td>1A11 25/26 - FRANS - p91+92</td></tr>
    <tr><td>zaay</td><td id="zaay-count">?</td><td>1A11 25/26 - FRANS - p91+92</td></tr>
    <tr><td>zaaz</td><td id="zaaz-count">?</td><td>1A11 25/26 - FRANS - p92+93</td></tr>
    <tr><td>zaba</td><td id="zaba-count">?</td><td>1A11 25/26 - FRANS - p93+94</td></tr>
    <tr><td>zabb</td><td id="zabb-count">?</td><td>1A11 25/26 - FRANS - EX - AVOIR+ÊTRE</td></tr>
    <tr><td>zabc</td><td id="zabc-count">?</td><td>1A11 25/26 - FRANS - EX - INFINITIEF WERKWOORDEN OP -ER</td></tr>
    <tr><td>zabd</td><td id="zabd-count">?</td><td>1A11 25/26 - FRANS - EX - VERVOEGING WERKWOORDEN OP -ER</td></tr>
    <tr><td>zabe</td><td id="zabe-count">?</td><td>1A11 25/26 - FRANS - EX - INFINITIEF WERKWOORDEN OP -IR</td></tr>
    <tr><td>zabf</td><td id="zabf-count">?</td><td>1A11 25/26 - FRANS - EX - VERVOEGING WERKWOORDEN OP -IR</td></tr>
    <tr><td>zabg</td><td id="zabg-count">?</td><td>1A11 25/26 - FRANS - EX - VERVOEGING WERKWOORDEN OP -ER ZONDER INFINITIEF</td></tr>
    <tr><td>zabh</td><td id="zabh-count">?</td><td>1A11 25/26 - FRANS - EX - VERVOEGING WERKWOORDEN OP -IR ZONDER INFINITIEF</td></tr>
    <tr><td>zabi</td><td id="zabi-count">?</td><td>1A11 25/26 - FRANS - Woordenschat p34</td></tr>
    <tr><td>zabj</td><td id="zabj-count">?</td><td>1A11 25/26 - FRANS - Woordenschat p34</td></tr>
    <tr><td>zabk</td><td id="zabk-count">?</td><td>1A11 25/26 TRIMESTER 2 - FRANS - Woordenschat p154</td></tr>
    <tr><td>zabl</td><td id="zabl-count">?</td><td>1A11 25/26 TRIMESTER 2 - FRANS - Woordenschat p155+156</td></tr>
    <tr><td>zabm</td><td id="zabm-count">?</td><td>1A11 25/26 TRIMESTER 2 - FRANS - Woordenschat p155+156</td></tr>
    <tr><td>zabn</td><td id="zabn-count">?</td><td>1A11 25/26 TRIMESTER 2 - FRANS - Woordenschat p157</td></tr>
    <tr><td>zabo</td><td id="zabo-count">?</td><td>1A11 25/26 TRIMESTER 2 - FRANS - Woordenschat p157+158</td></tr>

  </table>

  <p id="footer-note">Bestanden moeten zich bevinden in de map <code>txt/</code> en heten bijvoorbeeld <code>txt/iaab.txt</code>.<br>
  Formaat per regel: <code>nl:::fr:info</code> (bijv. <em>houden van:::aimer:INFINITIF</em>).</p>

<script>
(function(){
  let allSelected=[], huidige=null, stateByKey={}, juist=0, totaal=0;

  const antwoord=document.getElementById('antwoord');
  const vraagNL=document.getElementById('vraagNL');
  const resultaat=document.getElementById('resultaat');
  const scoreEl=document.getElementById('score');
  const quiz=document.getElementById('quiz');
  const ttsLang=document.getElementById('ttsLang');

  function norm(s){return(s||'').trim().toLowerCase();}
  function escapeHtml(s){return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;');}

  function speak(text){
    if(!window.speechSynthesis) return;
    const u=new SpeechSynthesisUtterance(text);
    u.lang=ttsLang.value;
    speechSynthesis.cancel();
    speechSynthesis.speak(u);
  }

  function parseLine(l){
    const i=l.indexOf(':::');
    if(i===-1) return null;
    return {nl:l.slice(0,i).trim(), fr:l.slice(i+3).split(':')[0].trim()};
  }

  window.loadFile=function(){
    fetch('txt/'+fileInput.value+'.txt')
      .then(r=>r.text())
      .then(t=>{
        allSelected=t.split(/\n/).map(parseLine).filter(x=>x);
        stateByKey={};
        allSelected.forEach(w=>stateByKey[w.nl]={done:false,waiting:false});
        quiz.style.display='block';
        nieuwWoord();
      });
  };

  function nieuwWoord(){
    const a=allSelected.filter(w=>!stateByKey[w.nl].done);
    if(!a.length) return;
    huidige=a[Math.floor(Math.random()*a.length)];
    vraagNL.innerHTML='<b>'+escapeHtml(huidige.nl)+'</b>';
    antwoord.value='';
  }

  function controleer(){
    const st=stateByKey[huidige.nl];

    if(!st.waiting) totaal++;

    if(norm(antwoord.value)===norm(huidige.fr)){
      if(!st.waiting){     // ✅ FIX
        juist++;
      }
      resultaat.innerHTML='<span class="correct">Juist!</span>';
      speak(huidige.fr);
      st.done=true;
      st.waiting=false;
      setTimeout(nieuwWoord,700);
    }else{
      resultaat.innerHTML='<span class="wrong">Fout. Juiste antwoord: <b>'+escapeHtml(huidige.fr)+'</b></span>';
      speak(huidige.fr);
      st.waiting=true;
    }

    scoreEl.textContent=juist+'/'+totaal;
  }

  controleerBtn.onclick=controleer;
  antwoord.onkeydown=e=>{if(e.key==='Enter') controleer();};
})();
</script>
</body>
</html>
