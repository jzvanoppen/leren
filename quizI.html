<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Franse oefenquiz</title>

<style>
  :root { font-family: system-ui, sans-serif; }
  body { max-width: 900px; margin: 30px auto; padding: 20px; line-height: 1.45; }
  .panel { border: 1px solid #ccc; background: #fafafa; padding: 16px; border-radius: 10px; }

  .sentence { font-size: 20px; margin-bottom: 8px; }
  .choices, .choices2 { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 12px; }
  .btn { 
    padding: 10px 16px; border-radius: 8px; background: white; border: 1px solid #888; 
    cursor: pointer; min-width: 160px; text-align: center;
  }
  .btn:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.08); transform: translateY(-2px); }
  .correct { background: #e8f8ea !important; border-color: #2b8a2b !important; }
  .incorrect { background: #fdeaea !important; border-color: #c22 !important; }

  #secChanceArea { margin-top: 20px; border-top: 1px dashed #aaa; padding-top: 20px; display:none; }
  #translation { margin-top: 15px; font-size: 18px; font-style: italic; color:#333; display:none; }

  .scoreboard { margin-top: 14px; font-weight: bold; }
  #nextBtn { margin-top: 14px; }

  #modeSelect { margin-bottom: 20px; padding: 6px 10px; font-size:16px; }
</style>
</head>

<body>

<h2>Frans → Nederlands oefening</h2>
<p>Kies eerst het juiste Franse woord. Bij een fout krijg je de Nederlandse zinnen. De Franse zin wordt automatisch uitgesproken.</p>

<label><strong>Kies oefenmodus:</strong></label><br>
<select id="modeSelect">
  <option value="vocab">Vocabulaire (woordjes)</option>
  <option value="verbes">Werkwoorden (verbes)</option>
</select>

<div class="panel">

  <div class="sentence" id="sentence">
    <span id="sentenceText">...</span>
  </div>

  <div class="choices" id="choices"></div>

  <div id="translation"></div>

  <div id="secChanceArea">
    <p><strong>Tweede kans:</strong> kies de correcte Nederlandse vertaling:</p>
    <div class="choices2" id="choices2"></div>
  </div>

  <div class="scoreboard">
    Juist: <span id="scRight">0</span> — Fout: <span id="scWrong">0</span>
  </div>

  <button id="nextBtn" class="btn">Volgende</button>
</div>

<script>
/*
  Ik geef je een lijst van woorden. Herwerk deze naar volgende structuur:
  {word:"water", fr:"eau", frSentence:"Puis-je avoir un verre d’eau ?", nl:"Mag ik een glas water?"},
  {word:"boek", fr:"livre", frSentence:"Elle lit un livre passionnant.", nl:"Zij leest een spannend boek."},
  {word:"stoel", fr:"chaise", frSentence:"La chaise se trouve à côté de la table.", nl:"De stoel staat naast de tafel."}

  Bedenk voor ieder woord een bijpassende zin:
*/
/* --------------------------
   ⭐ TWEE LOSSE LIJSTEN
--------------------------- */
const entriesVocab = [
  {word:"appel", fr:"pomme", frSentence:"Je mange une pomme chaque matin.", nl:"Ik eet elke ochtend een appel."},
  {word:"huis", fr:"maison", frSentence:"Il habite dans une grande maison.", nl:"Hij woont in een groot huis."},
  {word:"kat", fr:"chat", frSentence:"Le chat dort sur le canapé.", nl:"De kat slaapt op de bank."},
  {word:"water", fr:"eau", frSentence:"Puis-je avoir un verre d’eau ?", nl:"Mag ik een glas water?"},
  {word:"boek", fr:"livre", frSentence:"Elle lit un livre passionnant.", nl:"Zij leest een spannend boek."},
  {word:"stoel", fr:"chaise", frSentence:"La chaise se trouve à côté de la table.", nl:"De stoel staat naast de tafel."}
];
  
/*
  Ik geef je een lijst van werkwoorden. Herwerk deze naar volgende structuur:
  {word:"slapen", fr:"dormir", frSentence:"Les enfants doivent dormir tôt.", nl:"De kinderen moeten vroeg slapen."},
  {word:"nemen", fr:"prendre", frSentence:"Je vais prendre le bus.", nl:"Ik ga de bus nemen."},
  {word:"zien", fr:"voir", frSentence:"Je veux voir ce film.", nl:"Ik wil die film zien."}

  Bedenk voor ieder werkwoord een bijpassende zin:
*/
/* --------------------------
   ⭐ AFZONDERLIJKE LIJST VOOR WERKWOORDEN
--------------------------- */
const entriesVerbes = [
  {word:"lopen", fr:"marcher", frSentence:"Je dois marcher deux kilomètres.", nl:"Ik moet twee kilometer wandelen."},
  {word:"eten", fr:"manger", frSentence:"Nous aimons manger ensemble.", nl:"Wij eten graag samen."},
  {word:"drinken", fr:"boire", frSentence:"Il va boire un jus d’orange.", nl:"Hij gaat sinaasappelsap drinken."},
  {word:"slapen", fr:"dormir", frSentence:"Les enfants doivent dormir tôt.", nl:"De kinderen moeten vroeg slapen."},
  {word:"nemen", fr:"prendre", frSentence:"Je vais prendre le bus.", nl:"Ik ga de bus nemen."},
  {word:"zien", fr:"voir", frSentence:"Je veux voir ce film.", nl:"Ik wil die film zien."}
];

/* --------------------------
   QUIZ LOGICA (ongewijzigd)
--------------------------- */

let activeList = entriesVocab;
document.getElementById("modeSelect").onchange = function() {
  activeList = (this.value === "vocab") ? entriesVocab : entriesVerbes;
  newQuestion();
};

function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}}
function mask(sentence, word){return sentence.replace(new RegExp(word,"i"),"______");}
function speakFrench(text){ if('speechSynthesis' in window){ const u=new SpeechSynthesisUtterance(text); u.lang='fr-FR'; speechSynthesis.speak(u); } }

const sentenceText=document.getElementById("sentenceText");
const choicesEl=document.getElementById("choices");
const secChanceArea=document.getElementById("secChanceArea");
const choices2El=document.getElementById("choices2");
const translationEl=document.getElementById("translation");
const scRight=document.getElementById("scRight");
const scWrong=document.getElementById("scWrong");

let current=null;

function newQuestion(){
  translationEl.style.display="none";
  translationEl.textContent="";
  secChanceArea.style.display="none";
  choices2El.innerHTML="";

  current = activeList[Math.floor(Math.random()*activeList.length)];
  sentenceText.textContent = mask(current.frSentence, current.fr);

  choicesEl.innerHTML="";
  const opts=[current.fr];
  while(opts.length<3){
    const r=activeList[Math.floor(Math.random()*activeList.length)].fr;
    if(!opts.includes(r)) opts.push(r);
  }
  shuffle(opts);

  opts.forEach(o=>{
    const b=document.createElement("button");
    b.className="btn"; b.textContent=o;
    b.onclick=()=>firstChoice(b,o);
    choicesEl.appendChild(b);
  });
}

function firstChoice(btn, chosen){
  Array.from(choicesEl.children).forEach(b=>b.disabled=true);
  speakFrench(current.frSentence);

  if(chosen===current.fr){
    btn.classList.add("correct");
    scRight.textContent=Number(scRight.textContent)+1;
    translationEl.textContent=current.nl;
    translationEl.style.display="block";
  } else {
    btn.classList.add("incorrect");
    Array.from(choicesEl.children).find(b=>b.textContent===current.fr).classList.add("correct");
    startSecondChance();
  }
}

function startSecondChance(){
  secChanceArea.style.display="block";

  const opts=[current.nl];
  while(opts.length<3){
    const r=activeList[Math.floor(Math.random()*activeList.length)].nl;
    if(!opts.includes(r)) opts.push(r);
  }
  shuffle(opts);

  choices2El.innerHTML="";
  opts.forEach(o=>{
    const b=document.createElement("button");
    b.className="btn"; b.textContent=o;
    b.onclick=()=>secondChoice(b,o);
    choices2El.appendChild(b);
  });
}

function secondChoice(btn, chosen){
  Array.from(choices2El.children).forEach(b=>b.disabled=true);
  if(chosen===current.nl){
    btn.classList.add("correct");
    scRight.textContent=Number(scRight.textContent)+1;
  } else {
    btn.classList.add("incorrect");
    Array.from(choices2El.children).find(b=>b.textContent===current.nl).classList.add("correct");
    scWrong.textContent=Number(scWrong.textContent)+1;
  }
}

document.getElementById("nextBtn").onclick=newQuestion;

newQuestion();
</script>

</body>
</html>
