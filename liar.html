<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <title>UNO Liar – Kaartselectie</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0b5;
      padding: 20px;
    }

    h1 {
      color: white;
    }

    .cards {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-bottom: 30px;
    }

    .row {
      display: flex;
      gap: 10px;
    }

    .card {
      width: 54px; /* 20% kleiner dan 68px */
      height: 82px; /* 20% kleiner dan 102px */
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-weight: bold;
      position: relative;
      transition: transform 0.2s, box-shadow 0.2s;
      color: white;
      font-size: 21px; /* 20% kleiner dan 27px */
      text-shadow: 1px 1px 2px rgba(0,0,0,0.6);
    }

    .wild {
      background: conic-gradient(
        #d32f2f 0deg 90deg,
        #1976d2 90deg 180deg,
        #388e3c 180deg 270deg,
        #fbc02d 270deg 360deg
      );
      color: #000;
    }

    .card:hover {
      transform: scale(1.05);
    }

    .selected {
      transform: translateY(-15px) scale(1.1);
      box-shadow: 0 10px 20px rgba(0,0,0,0.4);
    }

    .order {
      position: absolute;
      top: -10px;
      right: -10px;
      background: red;
      color: white;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
    }

    @keyframes liarFlash {
      0%, 100% { background: #222; color: white; }
      50% { background: white; color: #222; }
    }

    .liar-flash {
      animation: liarFlash 0.5s ease-in-out 6;
    }

    .history {
      margin-top: 20px;
      display: flex;
      gap: 10px;
    }

    .history-slot {
      width: 54px;
      height: 82px;
      border-radius: 10px;
      border: 2px dashed #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 21px;
      background: #000;
    }
  </style>
</head>
<body>
  <h1>UNO Liar – kaarten</h1>

  <div class="cards" id="cardContainer"></div>

  <div class="history" id="historyContainer"></div>

  <audio id="liarSound">
    <source src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg" type="audio/ogg">
  </audio>

  <script>
    const cardNames = {
      rood: ['0','1','2','3','4','5','6','7','8','9','+2','⛔','⟲'],
      blauw: ['0','1','2','3','4','5','6','7','8','9','+2','⛔','⟲'],
      groen: ['0','1','2','3','4','5','6','7','8','9','+2','⛔','⟲'],
      geel: ['0','1','2','3','4','5','6','7','8','9','+2','⛔','⟲'],
      zwart: ['','+4','LIAR']
    };

    const container = document.getElementById('cardContainer');
    const historyContainer = document.getElementById('historyContainer');
    const selected = [];
    const history = [];
    const liarSound = document.getElementById('liarSound');

    function renderSelections() {
      document.querySelectorAll('.card').forEach(card => {
        card.classList.remove('selected');
        const badge = card.querySelector('.order');
        if (badge) badge.remove();
      });

      selected.forEach((card, index) => {
        card.classList.add('selected');
        const badge = document.createElement('div');
        badge.className = 'order';
        badge.textContent = index + 1;
        card.appendChild(badge);
      });
    }

    function renderHistory() {
      historyContainer.innerHTML = '';
      for(let i = 0; i < 13; i++) {
        const slot = document.createElement('div');
        slot.className = 'history-slot';
        const card = history[history.length - 13 + i];
        if(card) {
          slot.style.background = card.style.background;
          slot.textContent = card.textContent;
          if(card.classList.contains('wild')) slot.classList.add('wild');
          if(card.style.color) slot.style.color = card.style.color;
        }
        historyContainer.appendChild(slot);
      }
    }

    const colors = {
      rood: '#d32f2f',
      blauw: '#1976d2',
      groen: '#388e3c',
      geel: '#fbc02d',
      zwart: '#222'
    };

    Object.keys(cardNames).forEach(color => {
      const row = document.createElement('div');
      row.className = 'row';

      cardNames[color].forEach(value => {
        const div = document.createElement('div');
        div.className = 'card';
        div.textContent = value === '' ? '' : value;

        if (color === 'zwart' && value !== 'LIAR') {
          div.classList.add('wild');
        } else {
          div.style.background = colors[color];
          if (color === 'geel') div.style.color = '#000';
        }

        div.addEventListener('click', () => {
          if(color === 'zwart' && value === 'LIAR') {
            div.classList.add('liar-flash');
            liarSound.pause();
            liarSound.currentTime = 0;
            liarSound.play().catch(e => console.log('Autoplay blocked:', e));
            setTimeout(() => { div.classList.remove('liar-flash'); }, 3000);
          }

          const index = selected.indexOf(div);
          if (index !== -1) selected.splice(index, 1);
          selected.push(div);
          if (selected.length > 3) selected.shift();
          renderSelections();

          history.push(div);
          if(history.length > 13) history.shift();
          renderHistory();
        });

        row.appendChild(div);
      });

      container.appendChild(row);
    });
  </script>
</body>
</html>
